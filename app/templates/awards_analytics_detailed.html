<!-- DETAILED ANALYTICS VIEW (CURRENTLY COMMENTED OUT) -->
<!-- 
{% extends "layout.html" %}

{% block title %}Detailed Awards Analytics - HESA KNUST{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/editor.css') }}">
<style>
    .detailed-analytics {
        max-width: 1400px;
        margin: 0 auto;
        padding: 2rem;
    }
    
    .analytics-header {
        background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
        color: white;
        padding: 2rem;
        border-radius: 15px;
        margin-bottom: 2rem;
        text-align: center;
    }
    
    .votes-table {
        background: white;
        border-radius: 15px;
        padding: 1.5rem;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        overflow-x: auto;
    }
    
    .table {
        width: 100%;
        margin-bottom: 0;
    }
    
    .table th {
        background-color: #f8f9fa;
        border-top: none;
        font-weight: bold;
        color: #2c3e50;
        padding: 1rem 0.75rem;
    }
    
    .table td {
        padding: 1rem 0.75rem;
        vertical-align: middle;
    }
    
    .table tbody tr:hover {
        background-color: #f8f9fa;
    }
    
    .vote-amount {
        font-weight: bold;
        color: #27ae60;
    }
    
    .vote-count {
        background: #3498db;
        color: white;
        padding: 0.3rem 0.8rem;
        border-radius: 15px;
        font-size: 0.9rem;
        font-weight: bold;
    }
    
    .nominee-name {
        font-weight: bold;
        color: #2c3e50;
    }
    
    .category-badge {
        background: #95a5a6;
        color: white;
        padding: 0.2rem 0.6rem;
        border-radius: 10px;
        font-size: 0.8rem;
    }
    
    .email-info {
        color: #7f8c8d;
        font-style: italic;
    }
    
    .transaction-ref {
        font-family: monospace;
        font-size: 0.85rem;
        color: #7f8c8d;
    }
    
    .data-indicator {
        display: inline-block;
        padding: 0.5rem 1rem;
        border-radius: 25px;
        font-weight: bold;
        font-size: 0.9rem;
        margin-bottom: 1rem;
    }
    
    .real-data {
        background-color: rgba(40, 167, 69, 0.3);
        color: #28a745;
        border: 1px solid #28a745;
    }
    
    .masked-data {
        background-color: rgba(255, 193, 7, 0.3);
        color: #ffc107;
        border: 1px solid #ffc107;
    }
</style>
{% endblock %}

{% block content %}
<div class="detailed-analytics">
    <div class="analytics-header">
        <h1>ðŸ“Š Detailed Voting Analytics</h1>
        <p>Individual vote transactions and detailed breakdowns</p>
        <div class="data-indicator {% if show_real_data %}real-data{% else %}masked-data{% endif %}">
            {% if show_real_data %}
            <i class="fas fa-eye"></i> Real Data View
            {% else %}
            <i class="fas fa-user-secret"></i> Masked Data View
            {% endif %}
        </div>
    </div>
    
    <div class="action-buttons mb-4">
        <a href="{{ url_for('editor.awards_analytics') }}" class="btn btn-primary">
            <i class="fas fa-arrow-left"></i> Back to Overview
        </a>
        <a href="{{ url_for('editor.manage_awards') }}" class="btn btn-secondary">
            <i class="fas fa-cog"></i> Manage Awards
        </a>
    </div>
    
    <div class="votes-table">
        <h3 class="mb-4">Individual Vote Transactions</h3>
        
        {% if detailed_votes %}
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Nominee</th>
                    <th>Category</th>
                    <th>Votes</th>
                    <th>Amount</th>
                    <th>Email</th>
                    <th>Reference</th>
                </tr>
            </thead>
            <tbody>
                {% for vote_data in detailed_votes %}
                <tr>
                    <td>{{ vote_data.vote.created_at.strftime('%Y-%m-%d %H:%M') }}</td>
                    <td class="nominee-name">{{ vote_data.nominee.name }}</td>
                    <td><span class="category-badge">{{ vote_data.category.name }}</span></td>
                    <td><span class="vote-count">{{ vote_data.display_votes }}</span></td>
                    <td class="vote-amount">GHâ‚µ {{ "%.2f"|format(vote_data.display_amount) }}</td>
                    <td class="email-info">{{ vote_data.email }}</td>
                    <td class="transaction-ref">{{ vote_data.vote.transaction_ref }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <div class="text-center py-5">
            <i class="fas fa-inbox" style="font-size: 3rem; color: #ccc; margin-bottom: 1rem;"></i>
            <h4 class="text-muted">No Verified Votes Yet</h4>
            <p class="text-muted">Verified vote transactions will appear here</p>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Add any interactive features for the detailed view
    console.log('Detailed analytics view loaded');
    console.log('Total votes shown: {{ detailed_votes|length }}');
});
</script>
{% endblock %}
-->

<!-- TO ENABLE THIS VIEW: -->
<!-- 1. Uncomment the above template -->
<!-- 2. Uncomment the "Detailed View" button in awards_analytics.html -->
<!-- 3. The route is already created in the routes file -->